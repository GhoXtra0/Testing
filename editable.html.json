{"site":{"title":"","description":null,"enableMobile":true,"websiteUrl":null,"faviconPath":null,"thumbnailSocialPath":null,"descriptionSocial":null,"titleSocial":null,"lang":"","width":1200,"headUser":"<!-- https://github.com/Burkino/syn-multiinstance-exec -->\r\n<html>\r\n\r\n<head>\r\n    <title>Burkino's Multi-piece-of-shit whatever</title>\r\n    <link type=\"text/css\" rel=\"stylesheet\" href=\"./style.css\">\r\n    <meta http-equiv=\"Content-Security-Policy\" content=\"img-src 'none';\">\r\n</head>\r\n\r\n<body>\r\n    <div id=\"container\">\r\n        <textarea id=\"scriptbox\" spellcheck=\"false\"></textarea>\r\n\r\n        <iframe id=\"outbox\"></iframe>\r\n\r\n    </div>\r\n    <div id=\"controls\">\r\n        <button id=\"run\">Run</button>\r\n        <select id=\"select\">\r\n            <option value=\"all\">All clients</option>\r\n        </select>\r\n        <button id=\"clear\">Clear</button>\r\n    </div>\r\n\r\n    <script>\r\n        var scriptbox = document.getElementById('scriptbox');\r\n        var outbox = document.getElementById('outbox').contentDocument;\r\n        var run = document.getElementById('run');\r\n        var select = document.getElementById('select');\r\n        var clear = document.getElementById('clear');\r\n\r\n        var cssLink = document.createElement(\"link\");\r\n        cssLink.href = \"./style.css\"; \r\n        cssLink.rel = \"stylesheet\"; \r\n        cssLink.type = \"text/css\"; \r\n        outbox.head.appendChild(cssLink);\r\n\r\n        var timeout;\r\n        function connect() {\r\n            var socket = new WebSocket(`ws://${window.location.host}`);\r\n            socket.onmessage = function (data) {\r\n                data = JSON.parse(data.data);\r\n                switch (data.type) {\r\n                    case 'updatelog':\r\n                        var date = new Date();\r\n                        var elem = outbox.createElement('div');\r\n                        elem.className = \"text\";\r\n\r\n                        var time = outbox.createElement('div');\r\n                        time.style = \"padding-right: 2px;white-space: nowrap;\";\r\n                        time.textContent = `[${date.toLocaleTimeString()}]`;\r\n                        elem.appendChild(time);\r\n\r\n                        var sender = outbox.createElement('div');\r\n                        sender.style = \"padding-right: 2px;white-space: nowrap;\";\r\n                        sender.textContent = `[${data.sender}]`;\r\n                        elem.appendChild(sender);\r\n\r\n                        var msg = outbox.createElement('div');\r\n                        msg.textContent = `${data.message}`;\r\n                        elem.appendChild(msg);\r\n                        \r\n                        outbox.body.appendChild(elem);\r\n                        \r\n                        var br = outbox.createElement('br');\r\n                        outbox.body.appendChild(br);\r\n                        break;\r\n                    case 'addclient':\r\n                        var opt = document.createElement('option');\r\n                        opt.value = data.sender;\r\n                        opt.innerHTML = `${data.sender} [${data.game}]`;\r\n                        select.appendChild(opt);\r\n                        break;\r\n                    case 'removeclient':\r\n                        for (var i = 0; i < select.options.length; i++) {\r\n                            if (select.options[i].value == data.sender) {\r\n                                select.remove(i);\r\n                                break;\r\n                            }\r\n                        }\r\n                        break;\r\n                }\r\n            };\r\n\r\n            socket.onopen = function () {\r\n                clearTimeout(timeout);\r\n                socket.send(JSON.stringify({ type: 'init', sender: \"MASTER\" }));\r\n            };\r\n\r\n            socket.onclose = function () {\r\n                connect()\r\n            };\r\n        }\r\n\r\n        connect();\r\n\r\n        clear.addEventListener('click', function () {\r\n            outbox.body.innerHTML = '';\r\n        });\r\n\r\n        run.addEventListener('click', function () {\r\n            fetch('/', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({\r\n                    script: scriptbox.value,\r\n                    receiver: select.value\r\n                })\r\n            })\r\n        })\r\n    </script>\r\n\r\n</body>\r\n\r\n</html>\r\n","headStyle":"/* https://github.com/Burkino/syn-multiinstance-exec */\r\n:root {\r\n    --box-width: 49.5%;\r\n    --box-height: 90%;\r\n}\r\n\r\ntextarea {\r\n    height: var(--box-height);\r\n    resize: none;\r\n    display: inline-block;\r\n    width: var(--box-width);\r\n}\r\n\r\n#container {\r\n    display: flow-root;\r\n}\r\n\r\n#scriptbox {\r\n    float: left;\r\n}\r\n\r\n#outbox {\r\n    height: var(--box-height);\r\n    width: var(--box-width);\r\n    float: right;\r\n    border-style: solid;\r\n    border-width: 0.5px;\r\n    overflow-y: scroll;\r\n    overflow-wrap: anywhere;\r\n}\r\n\r\n#controls {\r\n    padding-top: 5px;\r\n}\r\n\r\n#clear {\r\n    float: right;\r\n}\r\n\r\n.text {\r\n    display: inline-flex;\r\n    margin: 0.5%;\r\n}\r\n","headScript":"","hostingProvider":"unifile","twitterSocial":null,"dataSources":{},"fonts":[{"family":"'Roboto', sans-serif","href":"https://fonts.googleapis.com/css?family=Roboto"}],"styles":{"all-style":{"className":"all-style","templateName":"text","displayName":"All style","styles":{"desktop":{"normal":{"className":"all-style","pseudoClass":"normal","All":{"font-family":"'Roboto', sans-serif"}}}}}},"isTemplate":false,"file":{"name":"editable.html","folder":"Testing/main","path":"Testing/main/editable.html","service":"github","url":"https://editor.silex.me/ce/github/get/Testing/main/editable.html","absPath":"/ce/github/get/Testing/main/editable.html"},"prodotypeDependencies":{},"data":{}},"pages":[{"id":"page-main-page","displayName":"Main Page","link":{"linkType":"LinkTypePage","href":"#!page-main-page"},"canDelete":true,"canProperties":true,"canMove":true,"canRename":true,"opened":false}],"elements":[{"id":"body-initial","pageNames":[],"classList":[],"type":"container-element","isSectionContent":false,"title":"","alt":null,"children":["silex-id-1478366444112-1","silex-id-1474394621033-3","silex-id-1478366450713-3"],"link":null,"enableEdit":false,"enableDrag":false,"enableDrop":true,"enableResize":{"top":false,"bottom":false,"left":false,"right":false},"selected":false,"useMinHeight":true,"visibility":{"desktop":true,"mobile":true},"style":{"desktop":{"background-color":"rgba(255,255,255,1)","position":"static"},"mobile":{}},"data":{"component":null},"innerHtml":"","tagName":"BODY"},{"id":"silex-id-1478366444112-1","pageNames":["page-main-page"],"classList":[],"type":"section-element","isSectionContent":false,"title":"","alt":null,"children":["silex-id-1478366444112-0"],"link":null,"enableEdit":false,"enableDrag":true,"enableDrop":true,"enableResize":{"top":false,"bottom":false,"left":false,"right":false},"selected":false,"useMinHeight":true,"visibility":{"desktop":true,"mobile":true},"style":{"desktop":{"background-color":"transparent","position":"static","margin-top":"-1px"},"mobile":{}},"data":{"component":null},"innerHtml":"","tagName":"SECTION"},{"id":"silex-id-1478366444112-0","pageNames":[],"classList":["website-width"],"type":"container-element","isSectionContent":true,"title":"","alt":null,"children":[],"link":null,"enableEdit":false,"enableDrag":false,"enableDrop":true,"enableResize":{"top":true,"bottom":true,"left":true,"right":true},"selected":false,"useMinHeight":true,"visibility":{"desktop":true,"mobile":true},"style":{"desktop":{"background-color":"transparent","height":"100px","position":"relative","margin-left":"auto","margin-right":"auto"},"mobile":{}},"data":{"component":null},"innerHtml":"","tagName":"DIV"},{"id":"silex-id-1474394621033-3","pageNames":["page-main-page"],"classList":[],"type":"section-element","isSectionContent":false,"title":"","alt":null,"children":["silex-id-1474394621032-2"],"link":null,"enableEdit":false,"enableDrag":true,"enableDrop":true,"enableResize":{"top":false,"bottom":false,"left":false,"right":false},"selected":false,"useMinHeight":true,"visibility":{"desktop":true,"mobile":true},"style":{"desktop":{"position":"static","margin-top":"-1px"},"mobile":{}},"data":{"component":null},"innerHtml":"","tagName":"SECTION"},{"id":"silex-id-1474394621032-2","pageNames":[],"classList":["website-width"],"type":"container-element","isSectionContent":true,"title":"","alt":null,"children":[],"link":null,"enableEdit":false,"enableDrag":false,"enableDrop":true,"enableResize":{"top":true,"bottom":true,"left":true,"right":true},"selected":false,"useMinHeight":true,"visibility":{"desktop":true,"mobile":true},"style":{"desktop":{"background-color":"transparent","height":"600px","position":"relative","margin-left":"auto","margin-right":"auto"},"mobile":{}},"data":{"component":null},"innerHtml":"","tagName":"DIV"},{"id":"silex-id-1478366450713-3","pageNames":["page-main-page"],"classList":[],"type":"section-element","isSectionContent":false,"title":"","alt":null,"children":["silex-id-1478366450713-2"],"link":null,"enableEdit":false,"enableDrag":true,"enableDrop":true,"enableResize":{"top":false,"bottom":false,"left":false,"right":false},"selected":false,"useMinHeight":true,"visibility":{"desktop":true,"mobile":true},"style":{"desktop":{"background-color":"transparent","position":"static","margin-top":"-1px"},"mobile":{}},"data":{"component":null},"innerHtml":"","tagName":"SECTION"},{"id":"silex-id-1478366450713-2","pageNames":[],"classList":["website-width"],"type":"container-element","isSectionContent":true,"title":"","alt":null,"children":["silex-id-1442914737143-3"],"link":null,"enableEdit":false,"enableDrag":false,"enableDrop":true,"enableResize":{"top":true,"bottom":true,"left":true,"right":true},"selected":false,"useMinHeight":true,"visibility":{"desktop":true,"mobile":true},"style":{"desktop":{"background-color":"transparent","height":"100px","position":"relative","margin-left":"auto","margin-right":"auto"},"mobile":{}},"data":{"component":null},"innerHtml":"","tagName":"DIV"},{"id":"silex-id-1442914737143-3","pageNames":[],"classList":[],"type":"text-element","isSectionContent":false,"title":"","alt":null,"children":[],"link":null,"enableEdit":true,"enableDrag":true,"enableDrop":false,"enableResize":{"top":true,"bottom":true,"left":true,"right":true},"selected":false,"useMinHeight":true,"visibility":{"desktop":true,"mobile":true},"style":{"desktop":{"width":"241px","top":"26px","left":"494px","height":"51px","position":"absolute"},"mobile":{}},"data":{"component":null},"innerHtml":"<p>Powered by <a href=\"https://www.silex.me/\" target=\"_blank\" title=\"Silex website builder,  free and open source\" linktype=\"LinkTypeExternal\">Silex website builder</a></p>","tagName":"DIV"}]}